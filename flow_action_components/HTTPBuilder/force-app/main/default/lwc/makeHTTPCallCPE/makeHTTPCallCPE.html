<template>
    <div>Make HTTP Call</div>

    <lightning-input label="url" onchange={changeURL} value={url} class="slds-m-around_medium" required="true"></lightning-input>
    <lightning-combobox label="HTTP Method" options={methodList} onchange={changeMethod} value={method} class="slds-m-around_medium" required="true"></lightning-combobox>
    <lightning-input label="Timeout in ms" onchange={changeTimeout} value={timeout} class="slds-m-around_medium" type="number"></lightning-input>
    <c-list-builder master-label="Specify Params:" add-button-label="Add Param" list-data={paramList} onchangelist={changeParams}></c-list-builder>
    <c-list-builder master-label="Specify Headers:" add-button-label="Add Header" list-data={headerList} onchangelist={changeHeaders}></c-list-builder>

    <lightning-textarea
        class="slds-m-around_medium"
        label="Body"
        value={body}
        onchange={changeBody}>
    </lightning-textarea>

    <lightning-input type="checkbox" checked={compressedGzip} label="Compress Request body to gzip?" class="slds-m-around_medium" onchange={changeCompressedGzip}></lightning-input>

    <lightning-input type="checkbox" checked={bodyAsBlob} label="Request Body as Blob?" class="slds-m-around_medium" onchange={changeBodyAsBlob}></lightning-input>

    <lightning-button label="Test Callout" onclick={makeTestCallout}></lightning-button>
    <template if:true={testResult}>
        <div class="slds-m-around_medium">
            <b>Response Result</b>
            <div class="slds-m-around_small">
                <template if:true={testResult.Error_message}>
                    Error Message : {testResult.Error_message}<br/>
                </template>
                <template if:false={testResult.Error_message}>
                    Status : {testResult.Status} <br/>
                    Status_code : {testResult.Status_code}<br/>
                    Body : {testResult.Body}<br/>
                </template>
            </div>
        </div>
    </template>
    
</template>